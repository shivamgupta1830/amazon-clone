{"ast":null,"code":"import _slicedToArray from\"C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{callAPI}from\"../utils/CallApi\";import{IND_CURRENCY}from\"../utils/constants\";import ProductDetails from\"./ProductDetails\";import{addToCart}from\"../redux/cartSlice\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(\"1\"),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var dispatch=useDispatch();var getProduct=function getProduct(){callAPI(\"data/products.json\").then(function(productResults){setProduct(productResults[id]);});};var addQuantityToProduct=function addQuantityToProduct(){setProduct(product.quantity=quantity);return product;};useEffect(function(){getProduct();});if(!(product!==null&&product!==void 0&&product.title))return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading Product...\"});return product&&/*#__PURE__*/_jsx(\"div\",{className:\"h-screen bg-amazonclone-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[1500px] min-w-[1000px] m-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-10 gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-3 rounded m-auto bg-white p-8\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(product.image),alt:\"#\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-5 rounded bg-white divide-y divide-gray-400 p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(ProductDetails,{product:product,ratings:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-base xl:text-lg mt-3\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 p-4 bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl xl:text-2xl font-semibold text-red-700 text-right\",children:IND_CURRENCY.format(product.price)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-base xl:text-xl font-semibold text-gray-500 text-right\",children:[\"RRP:\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"line-through\",children:[IND_CURRENCY.format(product.oldPrice),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm xl:text-base font-semibold text-blue-500 mt-3\",children:\"FREE Returns\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm xl:text-base font-semibold text-blue-500\",children:\"Free Delivery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-base xl:text-lg font-semibold text-green-700 mt-1\",children:\"In Stock\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-base xl:text-lg\",children:[\"Quantity:\",\" \",/*#__PURE__*/_jsxs(\"select\",{className:\"p-2 bg-white border rounded-md focus:border-indigo-600\",onChange:function onChange(e){return setQuantity(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/checkout\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return dispatch(addToCart(addQuantityToProduct()));},children:\"Add to Cart\"})})]})]})})});};export default ProductPage;","map":{"version":3,"names":["useParams","Link","useState","useEffect","callAPI","IND_CURRENCY","ProductDetails","addToCart","useDispatch","jsx","_jsx","jsxs","_jsxs","ProductPage","_useParams","id","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","quantity","setQuantity","dispatch","getProduct","then","productResults","addQuantityToProduct","title","children","className","src","concat","image","alt","ratings","description","format","price","oldPrice","onChange","e","target","value","to","onClick"],"sources":["C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/src/components/ProductPage.js"],"sourcesContent":["import { useParams, Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { callAPI } from \"../utils/CallApi\";\r\nimport { IND_CURRENCY } from \"../utils/constants\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport { addToCart } from \"../redux/cartSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst ProductPage = () => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [quantity, setQuantity] = useState(\"1\");\r\n  const dispatch = useDispatch();\r\n\r\n  const getProduct = () => {\r\n    callAPI(`data/products.json`).then((productResults) => {\r\n      setProduct(productResults[id]);\r\n    });\r\n  };\r\n\r\n  const addQuantityToProduct = () => {\r\n    setProduct((product.quantity = quantity));\r\n    return product;\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProduct();\r\n  });\r\n\r\n  if (!product?.title) return <h1>Loading Product...</h1>;\r\n\r\n  return (\r\n    product && (\r\n      <div className=\"h-screen bg-amazonclone-background\">\r\n        <div className=\"max-w-[1500px] min-w-[1000px] m-auto p-4\">\r\n          <div className=\"grid grid-cols-10 gap-2\">\r\n            {/* left */}\r\n            <div className=\"col-span-3 rounded m-auto bg-white p-8\">\r\n              <img src={`${product.image}`} alt=\"#\" />\r\n            </div>\r\n\r\n            {/* middle */}\r\n            <div className=\"col-span-5 rounded bg-white divide-y divide-gray-400 p-4\">\r\n              <div className=\"mb-3\">\r\n                <ProductDetails product={product} ratings={true} />\r\n              </div>\r\n              <div className=\"text-base xl:text-lg mt-3\">\r\n                {product.description}\r\n              </div>\r\n            </div>\r\n\r\n            {/* right */}\r\n            <div className=\"col-span-2 p-4 bg-white\">\r\n              <div className=\"text-xl xl:text-2xl font-semibold text-red-700 text-right\">\r\n                {IND_CURRENCY.format(product.price)}\r\n              </div>\r\n              <div className=\"text-base xl:text-xl font-semibold text-gray-500 text-right\">\r\n                RRP:{\" \"}\r\n                <span className=\"line-through\">\r\n                  {IND_CURRENCY.format(product.oldPrice)}{\" \"}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-sm xl:text-base font-semibold text-blue-500 mt-3\">\r\n                FREE Returns\r\n              </div>\r\n              <div className=\"text-sm xl:text-base font-semibold text-blue-500\">\r\n                Free Delivery\r\n              </div>\r\n              <div className=\"text-base xl:text-lg font-semibold text-green-700 mt-1\">\r\n                In Stock\r\n              </div>\r\n              <div className=\"text-base xl:text-lg\">\r\n                Quantity:{\" \"}\r\n                <select\r\n                  className=\"p-2 bg-white border rounded-md focus:border-indigo-600\"\r\n                  onChange={(e) => setQuantity(e.target.value)}\r\n                >\r\n                  <option>1</option>\r\n                  <option>2</option>\r\n                  <option>3</option>\r\n                </select>\r\n              </div>\r\n              <Link to={\"/checkout\"}>\r\n                <button\r\n                  className=\"btn\"\r\n                  onClick={() => dispatch(addToCart(addQuantityToProduct()))}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}