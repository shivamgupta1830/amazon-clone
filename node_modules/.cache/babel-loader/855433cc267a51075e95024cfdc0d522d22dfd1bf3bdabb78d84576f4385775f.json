{"ast":null,"code":"import _slicedToArray from\"C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MagnifyingGlassIcon}from\"@heroicons/react/24/outline\";import{useState,useEffect}from\"react\";import{callAPI}from\"../utils/CallApi\";import{useNavigate,createSearchParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),suggestions=_useState2[0],setSuggestions=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(\"All\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var navigate=useNavigate();var onHandleSubmit=function onHandleSubmit(e){e.preventDefault();navigate({pathname:\"search\",search:\"\".concat(createSearchParams({category:\"\".concat(category),searchTerm:\"\".concat(searchTerm)}))});setSearchTerm(\"\");setSearchTerm(\"All\");};var getSuggestions=function getSuggestions(){callAPI(\"data/suggestions.json\").then(function(suggestionResults){setSuggestions(suggestionResults);});};useEffect(function(){getSuggestions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-[100%]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center h-10 bg-amazonclone-yellow rounded-md \",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setCategory(e.target.value);},className:\"p-[8px] bg-gray-200 hover:bg-gray-300 text-black text-xs xl:text-sm rounded-l-md h-[100%] cursor-pointer\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Deals\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amazon\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Faishon\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Home\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mobiles\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"flex grow items-center h-[100%] text-black pl-1 relative outline-amazonclone-yellow\",type:\"text\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"w-[45px]\",onClick:onHandleSubmit,children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-[27px] m-auto stroke-slate-900\"})})]}),suggestions&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white text-black w-[596px] z-40 absolute cursor-pointer left-[89px] pl-1 \",children:suggestions.filter(function(suggestion){var currentSearchTerm=searchTerm.toLowerCase();var title=suggestion.title.toLowerCase();return currentSearchTerm&&title.startsWith(currentSearchTerm)&&title!==currentSearchTerm;}).slice(0,10).map(function(suggestion){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setSearchTerm(suggestion.title);},children:suggestion.title},suggestion.id);})})]});};export default Search;","map":{"version":3,"names":["MagnifyingGlassIcon","useState","useEffect","callAPI","useNavigate","createSearchParams","jsx","_jsx","jsxs","_jsxs","Search","_useState","_useState2","_slicedToArray","suggestions","setSuggestions","_useState3","_useState4","searchTerm","setSearchTerm","_useState5","_useState6","category","setCategory","navigate","onHandleSubmit","e","preventDefault","pathname","search","concat","getSuggestions","then","suggestionResults","className","children","onChange","target","value","type","onClick","filter","suggestion","currentSearchTerm","toLowerCase","title","startsWith","slice","map","id"],"sources":["C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/src/components/Search.js"],"sourcesContent":["import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { callAPI } from \"../utils/CallApi\";\r\nimport { useNavigate, createSearchParams } from \"react-router-dom\";\r\n\r\nconst Search = () => {\r\n  const [suggestions, setSuggestions] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [category, setCategory] = useState(\"All\");\r\n  const navigate = useNavigate();\r\n\r\n  const onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    navigate({\r\n      pathname: \"search\",\r\n      search: `${createSearchParams({\r\n        category: `${category}`,\r\n        searchTerm: `${searchTerm}`,\r\n      })}`,\r\n    });\r\n    setSearchTerm(\"\");\r\n    setSearchTerm(\"All\");\r\n  };\r\n\r\n  const getSuggestions = () => {\r\n    callAPI(`data/suggestions.json`).then((suggestionResults) => {\r\n      setSuggestions(suggestionResults);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getSuggestions();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"w-[100%]\">\r\n      <div className=\"flex items-center h-10 bg-amazonclone-yellow rounded-md \">\r\n        <select\r\n          onChange={(e) => setCategory(e.target.value)}\r\n          className=\"p-[8px] bg-gray-200 hover:bg-gray-300 text-black text-xs xl:text-sm rounded-l-md h-[100%] cursor-pointer\"\r\n        >\r\n          <option>All</option>\r\n          <option>Deals</option>\r\n          <option>Amazon</option>\r\n          <option>Faishon</option>\r\n          <option>Home</option>\r\n          <option>Mobiles</option>\r\n        </select>\r\n        <input\r\n          className=\"flex grow items-center h-[100%] text-black pl-1 relative outline-amazonclone-yellow\"\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <button className=\"w-[45px]\" onClick={onHandleSubmit}>\r\n          <MagnifyingGlassIcon className=\"h-[27px] m-auto stroke-slate-900\" />\r\n        </button>\r\n      </div>\r\n      {suggestions && (\r\n        <div className=\"bg-white text-black w-[596px] z-40 absolute cursor-pointer left-[89px] pl-1 \">\r\n          {suggestions\r\n            .filter((suggestion) => {\r\n              const currentSearchTerm = searchTerm.toLowerCase();\r\n              const title = suggestion.title.toLowerCase();\r\n              return (\r\n                currentSearchTerm &&\r\n                title.startsWith(currentSearchTerm) &&\r\n                title !== currentSearchTerm\r\n              );\r\n            })\r\n            .slice(0, 10)\r\n            .map((suggestion) => (\r\n              <div\r\n                key={suggestion.id}\r\n                onClick={() => setSearchTerm(suggestion.title)}\r\n              >\r\n                {suggestion.title}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}