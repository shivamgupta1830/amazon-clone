{"ast":null,"code":"import _slicedToArray from\"C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSearchParams,Link}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{callAPI}from\"../utils/CallApi\";import ProductDetails from\"./ProductDetails\";import{IND_CURRENCY}from\"../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResults=function SearchResults(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var getSearchresults=function getSearchresults(){var searchTerm=searchParams.get(\"searchTerm\");var category=searchParams.get(\"category\");callAPI(\"data/search.json\").then(function(searchResults){var categoryResults=searchResults[category];if(searchTerm){var results=categoryResults.filter(function(product){return product.title.toLowerCase().includes(searchTerm.toLowerCase());});setProducts(results);}else{setProducts(categoryResults);}});};useEffect(function(){getSearchresults();},[searchParams]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-w-[1200px] max-w-[1300px] m-auto pt-4\",children:products&&products.map(function(product,key){return/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\" h-[250px] grid grid-cols-12 rounded mt-1 mb-1 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 p-4 bg-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image_small,className:\"m-auto\",alt:\"#\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-10 bg-gray-50 border-gray-100 hover:bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-black p-2\",children:[/*#__PURE__*/_jsx(ProductDetails,{product:product,ratings:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl xl:text-2xl pt-1 \",children:IND_CURRENCY.format(product.price)})]})})]})},key);})});};export default SearchResults;","map":{"version":3,"names":["useSearchParams","Link","useEffect","useState","callAPI","ProductDetails","IND_CURRENCY","jsx","_jsx","jsxs","_jsxs","SearchResults","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","_useState","_useState2","products","setProducts","getSearchresults","searchTerm","get","category","then","searchResults","categoryResults","results","filter","product","title","toLowerCase","includes","className","children","map","key","to","concat","id","src","image_small","alt","ratings","format","price"],"sources":["C:/Users/SHIVAM GUPTA/Desktop/amazon-clone/src/components/SearchResults.js"],"sourcesContent":["import { useSearchParams, Link } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { callAPI } from \"../utils/CallApi\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport { IND_CURRENCY } from \"../utils/constants\";\r\n\r\nconst SearchResults = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [products, setProducts] = useState(null);\r\n\r\n  const getSearchresults = () => {\r\n    const searchTerm = searchParams.get(\"searchTerm\");\r\n    const category = searchParams.get(\"category\");\r\n\r\n    callAPI(`data/search.json`).then((searchResults) => {\r\n      const categoryResults = searchResults[category];\r\n\r\n      if (searchTerm) {\r\n        const results = categoryResults.filter((product) =>\r\n          product.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n        setProducts(results);\r\n      } else {\r\n        setProducts(categoryResults);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getSearchresults();\r\n  }, [searchParams]);\r\n\r\n  return (\r\n    <div className=\"min-w-[1200px] max-w-[1300px] m-auto pt-4\">\r\n      {products &&\r\n        products.map((product, key) => {\r\n          return (\r\n            <Link key={key} to={`/product/${product.id}`}>\r\n              <div className=\" h-[250px] grid grid-cols-12 rounded mt-1 mb-1 \">\r\n                <div className=\"col-span-2 p-4 bg-gray-200\">\r\n                  <img src={product.image_small} className=\"m-auto\" alt=\"#\" />\r\n                </div>\r\n                <div className=\"col-span-10 bg-gray-50 border-gray-100 hover:bg-gray-100\">\r\n                  <div className=\"font-medium text-black p-2\">\r\n                    <ProductDetails product={product} ratings={true} />\r\n                    <div className=\"text-xl xl:text-2xl pt-1 \">\r\n                      {IND_CURRENCY.format(product.price)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n"],"mappings":"gIAAA,OAASA,eAAe,CAAEC,IAAI,KAAQ,kBAAkB,CACxD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,YAAY,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,IAAAC,gBAAA,CAAuBZ,eAAe,CAAC,CAAC,CAAAa,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAjCG,YAAY,CAAAF,iBAAA,IACnB,IAAAG,SAAA,CAAgCb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAH,cAAA,CAAAE,SAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B,GAAM,CAAAC,UAAU,CAAGN,YAAY,CAACO,GAAG,CAAC,YAAY,CAAC,CACjD,GAAM,CAAAC,QAAQ,CAAGR,YAAY,CAACO,GAAG,CAAC,UAAU,CAAC,CAE7ClB,OAAO,mBAAmB,CAAC,CAACoB,IAAI,CAAC,SAACC,aAAa,CAAK,CAClD,GAAM,CAAAC,eAAe,CAAGD,aAAa,CAACF,QAAQ,CAAC,CAE/C,GAAIF,UAAU,CAAE,CACd,GAAM,CAAAM,OAAO,CAAGD,eAAe,CAACE,MAAM,CAAC,SAACC,OAAO,QAC7C,CAAAA,OAAO,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACX,UAAU,CAACU,WAAW,CAAC,CAAC,CAAC,EAChE,CAAC,CACDZ,WAAW,CAACQ,OAAO,CAAC,CACtB,CAAC,IAAM,CACLR,WAAW,CAACO,eAAe,CAAC,CAC9B,CACF,CAAC,CAAC,CACJ,CAAC,CAEDxB,SAAS,CAAC,UAAM,CACdkB,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACL,YAAY,CAAC,CAAC,CAElB,mBACEP,IAAA,QAAKyB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACvDhB,QAAQ,EACPA,QAAQ,CAACiB,GAAG,CAAC,SAACN,OAAO,CAAEO,GAAG,CAAK,CAC7B,mBACE5B,IAAA,CAACP,IAAI,EAAWoC,EAAE,aAAAC,MAAA,CAAcT,OAAO,CAACU,EAAE,CAAG,CAAAL,QAAA,cAC3CxB,KAAA,QAAKuB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D1B,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC1B,IAAA,QAAKgC,GAAG,CAAEX,OAAO,CAACY,WAAY,CAACR,SAAS,CAAC,QAAQ,CAACS,GAAG,CAAC,GAAG,CAAE,CAAC,CACzD,CAAC,cACNlC,IAAA,QAAKyB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvExB,KAAA,QAAKuB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC1B,IAAA,CAACH,cAAc,EAACwB,OAAO,CAAEA,OAAQ,CAACc,OAAO,CAAE,IAAK,CAAE,CAAC,cACnDnC,IAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACvC5B,YAAY,CAACsC,MAAM,CAACf,OAAO,CAACgB,KAAK,CAAC,CAChC,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,EAbGT,GAcL,CAAC,CAEX,CAAC,CAAC,CACD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}